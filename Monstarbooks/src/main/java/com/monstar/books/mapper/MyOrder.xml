<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.monstar.books.adorder.dao.AdOrderDao">

	<!--주문목록 가져오기 -->
	<select id="getDeliverStatus"
		resultType="com.monstar.books.mypage.dto.MyOrderDto">
		SELECT
		o.oorderdate AS orderDate,
		o.ostatus AS orderStatus,
		bc.bcategory1 AS category1,
		od.ocount AS productCount,
		od.opricesell AS productPrice,
		b.btitle AS productName,
		m.mid AS memberId,
		o.orderno AS orderNO
		FROM
		m_order o
		JOIN
		m_order_detail od ON o.orderno = od.orderno
		JOIN
		m_book b ON od.bookno = b.bookno
		JOIN
		m_member m ON o.memberno = m.memberno
		JOIN
		m_book_category bc ON b.bcategoryno = bc.bcategoryno
		WHERE
		m.memberId =#{param1};
	</select>

</mapper>
